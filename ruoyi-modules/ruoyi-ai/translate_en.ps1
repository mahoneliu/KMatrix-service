$file_en = "f:\code\KMatrix\kmatrix-service\ruoyi-admin\src\main\resources\i18n\messages_en_US.properties"
$content = Get-Content $file_en -Raw -Encoding UTF8

$content = $content.Replace("[TODO_TRANS] 固定模板", "Fixed Template")
$content = $content.Replace("[TODO_TRANS] 自定义工作流", "Custom Workflow")
$content = $content.Replace("[TODO_TRANS] 智能体", "Agent")
$content = $content.Replace("[TODO_TRANS] 解析中", "Parsing")
$content = $content.Replace("[TODO_TRANS] 完成", "Completed")
$content = $content.Replace("[TODO_TRANS] 失败", "Failed")
$content = $content.Replace("[TODO_TRANS] 语言模型", "LLM")
$content = $content.Replace("[TODO_TRANS] 向量模型", "Embedding Model")
$content = $content.Replace("[TODO_TRANS] 多路召回", "Rerank")
$content = $content.Replace("[TODO_TRANS] 语音模型", "Audio Model")
$content = $content.Replace("[TODO_TRANS] 图像模型", "Image Model")
$content = $content.Replace("[TODO_TRANS] 视频模型", "Video Model")
$content = $content.Replace("[TODO_TRANS] 公有", "Public")
$content = $content.Replace("[TODO_TRANS] 本地", "Local")
$content = $content.Replace("[TODO_TRANS] 等于", "Equals")
$content = $content.Replace("[TODO_TRANS] 不等于", "Not Equals")
$content = $content.Replace("[TODO_TRANS] 大于", "Greater Than")
$content = $content.Replace("[TODO_TRANS] 小于", "Less Than")
$content = $content.Replace("[TODO_TRANS] 大于等于", "Greater Than Or Equals")
$content = $content.Replace("[TODO_TRANS] 小于等于", "Less Than Or Equals")
$content = $content.Replace("[TODO_TRANS] 包含", "Contains")
$content = $content.Replace("[TODO_TRANS] 不包含", "Not Contains")
$content = $content.Replace("[TODO_TRANS] 以...开始", "Starts With")
$content = $content.Replace("[TODO_TRANS] 以...结束", "Ends With")
$content = $content.Replace("[TODO_TRANS] 为空", "Is Empty")
$content = $content.Replace("[TODO_TRANS] 不为空", "Is Not Empty")
$content = $content.Replace("[TODO_TRANS] 对象存储", "Object Storage (OSS)")
$content = $content.Replace("[TODO_TRANS] 本地存储", "Local Storage")
$content = $content.Replace("[TODO_TRANS] 且", "AND")
$content = $content.Replace("[TODO_TRANS] 或", "OR")
$content = $content.Replace("[TODO_TRANS] 等待执行", "Pending")
$content = $content.Replace("[TODO_TRANS] 执行中", "Running")
$content = $content.Replace("[TODO_TRANS] 执行完成", "Completed")
$content = $content.Replace("[TODO_TRANS] 执行失败", "Failed")
$content = $content.Replace("[TODO_TRANS] 已跳过", "Skipped")
$content = $content.Replace("[TODO_TRANS] 节点开始执行", "Node Started")
$content = $content.Replace("[TODO_TRANS] 节点执行进度", "Node Progress")
$content = $content.Replace("[TODO_TRANS] 节点执行完成", "Node Completed")
$content = $content.Replace("[TODO_TRANS] 节点执行错误", "Node Error")
$content = $content.Replace("[TODO_TRANS] 节点执行详情", "Node Execution Detail")
$content = $content.Replace("[TODO_TRANS] 消息内容", "Message")
$content = $content.Replace("[TODO_TRANS] 工作流完成", "Workflow Completed")
$content = $content.Replace("[TODO_TRANS] AI思考过程", "Thinking")
$content = $content.Replace("[TODO_TRANS] 对话完成", "Done")
$content = $content.Replace("[TODO_TRANS] 引用信息", "Citation")
$content = $content.Replace("[TODO_TRANS] 会话信息更新", "Session Update")
$content = $content.Replace("[TODO_TRANS] 等待中", "Pending")
$content = $content.Replace("[TODO_TRANS] 成功", "Success")
$content = $content.Replace("[TODO_TRANS] 取消中", "Canceling")
$content = $content.Replace("[TODO_TRANS] 已取消", "Canceled")
$content = $content.Replace("[TODO_TRANS] 向量化", "Embedding")
$content = $content.Replace("[TODO_TRANS] 生成问题", "Generate Question")

$content = $content.Replace("[TODO] 无效的 Token", "Invalid Token")
$content = $content.Replace("[TODO] 系统模板不允许删除", "System template deletion is not allowed")
$content = $content.Replace("[TODO] 应用不存在", "App does not exist")
$content = $content.Replace("[TODO] 网页链接为空", "Web link is empty")
$content = $content.Replace("[TODO] 访问受限：无效的 Token", "Access Denied: Invalid Token")
$content = $content.Replace("[TODO] Token不存在或已删除", "Token does not exist or has been deleted")
$content = $content.Replace("[TODO] 调试会话不保存执行记录", "Debug sessions do not save execution history")
$content = $content.Replace("[TODO] 文档内容为空", "Document content is empty")
$content = $content.Replace("[TODO] ID不能为空", "ID cannot be empty")
$content = $content.Replace("[TODO] END 节点不能有出边", "END node cannot have outgoing edges")
$content = $content.Replace("[TODO] 工作流配置无效", "Workflow configuration is invalid")
$content = $content.Replace("[TODO] 分块失败", "Chunking failed")
$content = $content.Replace("[TODO] 系统内置模型不允许修改", "Built-in models cannot be modified")
$content = $content.Replace("[TODO] 需要有效的 Session Token", "Valid Session Token is required")
$content = $content.Replace("[TODO] 访问受限：未提供 Token", "Access Denied: No Token Provided")
$content = $content.Replace("[TODO] 无效的应用 Token", "Invalid App Token")
$content = $content.Replace("[TODO] 数据源不存在: {0}", "DataSource '{0}' does not exist")
$content = $content.Replace("[TODO] 模型配置或供应商标识为空", "Model configuration or provider identifier is empty")
$content = $content.Replace("[TODO] AppID 或 DSL 数据不能为空", "AppID or DSL data cannot be empty")
$content = $content.Replace("[TODO] 网页内容为空", "Web page content is empty")
$content = $content.Replace("[TODO] QA 文件没有有效数据行", "QA file has no valid data lines")
$content = $content.Replace("[TODO] 数据源不存在", "DataSource does not exist")
$content = $content.Replace("[TODO] 在线文档内容为空", "Online document content is empty")
$content = $content.Replace("[TODO] 工作流只能有一个 END 节点", "Workflow can only have one END node")
$content = $content.Replace("[TODO] 参数不完整", "Parameters are incomplete")
$content = $content.Replace("[TODO] 新模板名称不能为空", "New template name cannot be empty")
$content = $content.Replace("[TODO] 问题内容不能为空", "Question content cannot be empty")
$content = $content.Replace("[TODO] 切片ID列表不能为空", "Chunk ID list cannot be empty")
$content = $content.Replace("[TODO] sql不能为空", "SQL cannot be empty")
$content = $content.Replace("[TODO] 标题不能为空", "Title cannot be empty")
$content = $content.Replace("[TODO] 切片ID不能为空", "Chunk ID cannot be empty")
$content = $content.Replace("[TODO] 系统模板不允许修改", "System template modification is not allowed")
$content = $content.Replace("[TODO] 问题ID列表不能为空", "Question ID list cannot be empty")
$content = $content.Replace("[TODO] 应用名称不能为空", "App name cannot be empty")
$content = $content.Replace("[TODO] 无法识别文件类型: {0}", "Unrecognized file type: {0}")
$content = $content.Replace("[TODO] 工作流必须包含一个 END 节点", "Workflow must contain an END node")
$content = $content.Replace("[TODO] 演示环境，不允许操作敏感数据！", "Demo environment, operating sensitive data is not allowed!")
$content = $content.Replace("[TODO] 系统节点不允许修改", "System node modification is not allowed")
$content = $content.Replace("[TODO] AppID 不能为空", "AppID cannot be empty")
$content = $content.Replace("[TODO] QA 文件内容为空", "QA file content is empty")

$content = $content.Replace("[TODO] appToken 不能为空", "AppToken cannot be empty")
$content = $content.Replace("[TODO] 临时文件ID列表不能为空", "Temp file ID list cannot be empty")
$content = $content.Replace("[TODO] 分块策略不能为空", "Chunk strategy cannot be empty")
$content = $content.Replace("[TODO] 数据集ID不能为空", "Dataset ID cannot be empty")
$content = $content.Replace("[TODO] URL列表不能为空", "URL list cannot be empty")
$content = $content.Replace("[TODO] 临时文件ID不能为空", "Temp file ID cannot be empty")
$content = $content.Replace("[TODO] 分块列表不能为空", "Chunk list cannot be empty")
$content = $content.Replace("[TODO] 分块内容不能为空", "Chunk content cannot be empty")
$content = $content.Replace("[TODO] 应用名称长度不能超过64个字符", "App name length cannot exceed 64 characters")
$content = $content.Replace("[TODO] 应用描述长度不能超过500个字符", "App description length cannot exceed 500 characters")
$content = $content.Replace("[TODO] 应用ID不能为空", "App ID cannot be empty")
$content = $content.Replace("[TODO] Token名称不能为空", "Token name cannot be empty")
$content = $content.Replace("[TODO] 会话ID不能为空", "Session ID cannot be empty")
$content = $content.Replace("[TODO] 角色不能为空", "Role cannot be empty")
$content = $content.Replace("[TODO] 消息内容不能为空", "Message content cannot be empty")
$content = $content.Replace("[TODO] 会话标题不能为空", "Session title cannot be empty")
$content = $content.Replace("[TODO] 会话标题长度不能超过200个字符", "Session title length cannot exceed 200 characters")
$content = $content.Replace("[TODO] 知识库ID不能为空", "Knowledge Base ID cannot be empty")
$content = $content.Replace("[TODO] 数据集名称不能为空", "Dataset name cannot be empty")
$content = $content.Replace("[TODO] 知识库名称不能为空", "Knowledge Base name cannot be empty")
$content = $content.Replace("[TODO] 模型ID不能为空", "Model ID cannot be empty")
$content = $content.Replace("[TODO] 供应商ID不能为空", "Provider ID cannot be empty")
$content = $content.Replace("[TODO] 节点类型不能为空", "Node type cannot be empty")
$content = $content.Replace("[TODO] 节点名称不能为空", "Node name cannot be empty")
$content = $content.Replace("[TODO] 节点分类不能为空", "Node category cannot be empty")
$content = $content.Replace("[TODO] 实例ID不能为空", "Instance ID cannot be empty")
$content = $content.Replace("[TODO] 节点ID不能为空", "Node ID cannot be empty")
$content = $content.Replace("[TODO] 模板ID不能为空", "Template ID cannot be empty")
$content = $content.Replace("[TODO] 模板名称不能为空", "Template name cannot be empty")
$content = $content.Replace("[TODO] 模板编码不能为空", "Template code cannot be empty")

$content = $content -replace '\[TODO_TRANS\]', ''
$content = $content -replace '\[TODO\]', ''

$utf8bom = New-Object System.Text.UTF8Encoding $false
[System.IO.File]::WriteAllText($file_en, $content, $utf8bom)
Write-Host "Updated English translations."
